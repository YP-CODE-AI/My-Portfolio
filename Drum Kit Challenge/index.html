<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Drum Kit</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class = 'keys'> <!--This div wraps all drum keys-->
             <!--Each block is a key on the drum kit-->
            <div data-key="65" class="key">
                <kbd>A</kbd>   <!--The key shown-->
                <span class="sound">clap</span>    <!--The sound name-->
            </div>
            <div data-key="83" class="key">
                <kbd>S</kbd>
                <span class="sound">hihat</span>
            </div>
            <div data-key="68" class="key">
                <kbd>D</kbd>
                <span class="sound">kick</span>
            </div>
            <div data-key="70" class="key">
                <kbd>F</kbd>
                <span class="sound">openhat</span>
            </div>
            <div data-key="71" class="key">
                <kbd>G</kbd>
                <span class="sound">boom</span>
            </div>
            <div data-key="72" class="key">
                <kbd>H</kbd>
                <span class="sound">ride</span>
            </div>
            <div data-key="74" class="key">
                <kbd>J</kbd>
                <span class="sound">snare</span>
            </div>
            <div data-key="75" class="key">
                <kbd>K</kbd>
                <span class="sound">tom</span>
            </div><div data-key="76" class="key">
                <kbd>L</kbd>
                <span class="sound">tink</span>
            </div>
        </div>    <!--There are the audio files connected to each key-->
        <audio data-key="65" src="Sounds/clap.wav"></audio>
        <audio data-key="83" src="Sounds/hihat.wav"></audio>
        <audio data-key="68" src="Sounds/kick.wav"></audio>
        <audio data-key="70" src="Sounds/openhat.wav"></audio>
        <audio data-key="71" src="Sounds/boom.wav"></audio>
        <audio data-key="72" src="Sounds/ride.wav"></audio>
        <audio data-key="74" src="Sounds/snare.wav"></audio>
        <audio data-key="75" src="Sounds/tom.wav"></audio>
        <audio data-key="76" src="Sounds/tink.wav"></audio>

        <script>
           window.addEventListener('keydown',function(e){ //When a key is pressed on the keyboard
            const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`); //Find the audio element with the same key code
            const key = document.querySelector(`.key[data-key="${e.keyCode}"]`); // Find the key div with the same key code
            if(!audio) return; //If no sound stop here 
            
            audio.currentTime = 0; //Rewind aurio from the start 
            audio.play(); //Play the sound
            key.classList.add('playing') //Add the 'playing' style to the key 
        });
        function removeTransition(e) {  //Remove the 'playing' class after animation ends
            if(e.propertyName !== "box-shadow") return;  //Only do this for box-shadow
            this.classList.remove('playing'); //Remove the style 
        }
        const keys = document.querySelectorAll('.key'); //Add the removeTransition  to each key   
        keys.forEach(key => key.addEventListener('transitionend', removeTransition));
        </script>
    </body>
</html>